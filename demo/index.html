<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>俄罗斯方块</title>
	<link rel="stylesheet" href="../css/tetris.css">
	<link rel="stylesheet" href="./demo.css">
</head>
<body>
	<div class="scene">
		<h1>GilbertSun's Tetris@v0.1</h1>
		<div class="tetris">
			<div class="tetris-screen tetris-component">

			</div>
			<div class="tetris-status">
				<div class="score tetris-status-panel">
					<h1>状态</h1>
					<div class="content">
						<ul>
							<li>得分: <span class="score-value">0</span></li>
							<li>总分: <span class="score-total-value">0</span></li>
							<li>速度: <span class="current-speed">400</span></li>
						</ul>
					</div>
				</div>
				<div class="tips tetris-status-panel">
					<h1>提示</h1>
					<div class="content">
						<ul>
							<li>&uarr;: 旋转</li>
							<li>&darr;: 向下</li>
							<li>&larr;: 向左</li>
							<li>&rarr;: 向右</li>
							<li>空格: 暂停/恢复</li>
							<li>F5: 开始/重新开始</li>
						</ul>
					</div>
				</div>
				<div class="control tetris-status-panel">
					<h1>控制</h1>
					<div class="content">
						<!-- <p>
							<button class="speed button button90">speed: 1</button>
						</p> -->
						<p><button class="turn button button20">旋转</button></p>
						<p>
							<button class="turn button button20">向左</button>
							<button class="turn button button20">开始</button>
							<button class="turn button button20">向右</button>
						</p>
						<p>
							<button class="turn button button20">向下</button>
						</p>
					</div>
				</div>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<script src="../lib/jquery-1.8.1.js"></script>
	<script src="../js/tetris.js"></script>
	<script>
		$('.tetris-screen').tetris({
			'control': 'keybord',
			'scoreRate': function (elimate, oldScore) {
				var score = elimate * 2 - 1,
					totalScore = oldScore + score;

				$('.score-value').text(score);
				$('.score-total-value').text(totalScore);
				return totalScore;
			},
			'speedRate': function (score, oldSpeed) {
				var speed = Math.max(400 - Math.floor(score/20) * 100, 100);
				$('.current-speed').text(speed)
				return speed;
			}
		});
	</script>
</body>
</html>
